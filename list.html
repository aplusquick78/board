<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시글 목록</title>
    <style>
        body { font-family: Arial, sans-serif; }
        h1 { text-align: center; }
        .post { border: 1px solid #ddd; padding: 10px; margin: 10px; cursor: pointer; }
        .link { text-align: center; margin: 20px; }
    </style>
</head>
<body>
    <h1>게시글 목록</h1>

    <div id="postsContainer"></div>

    <div class="link">
        <a href="post.html">새 게시글 작성</a>
    </div>

    <script>
        const postsContainer = document.getElementById('postsContainer');

        // 저장된 게시글을 로컬 스토리지에서 가져오기
        const posts = JSON.parse(localStorage.getItem('posts')) || [];

        // 게시글 목록을 동적으로 생성
        posts.forEach(post => {
            const postDiv = document.createElement('div');
            postDiv.className = 'post';
            postDiv.innerHTML = `<h3>${post.title}</h3><p>${post.content.substring(0, 100)}...</p>`; // 내용의 일부만 표시
            
            // 클릭 이벤트 추가
            postDiv.addEventListener('click', () => {
                window.open(`./${post.title}.html`, '_blank'); // 게시글 클릭 시 해당 HTML 파일 열기
            });

            postsContainer.appendChild(postDiv);
        });

        // 게시글이 없을 때 메시지
        if (posts.length === 0) {
            postsContainer.innerHTML = '<p>게시글이 없습니다.</p>';
        }
    </script>
</body>
</html>
